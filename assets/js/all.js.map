{"version":3,"sources":["all.js"],"names":["allActivityAPIPath","allFoodAPIPath","allActivityAPIData","allFoodAPIData","callAPIFromAllActivity","callAPIFromAllFood","getSearchCondition","console","log","APIPath","axios","get","headers","getAuthorizationHeader","then","activityCardGroup","document","querySelector","webData","htmlCode","data","forEach","item","index","Picture","PictureUrl1","push","slice","Name","Address","innerHTML","error","Description","Location","AppID","AppKey","GMTString","Date","toGMTString","ShaObj","jsSHA","setHMACKey","update","HMAC","getHMAC","Authorization"],"mappings":"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","file":"all.js","sourcesContent":["const allActivityAPIPath=\"https://ptx.transportdata.tw/MOTC/v2/Tourism/Activity?$top=30&$format=JSON?$filiter=Picture ne null\";\nconst allFoodAPIPath=\"https://ptx.transportdata.tw/MOTC/v2/Tourism/Restaurant?$top=30&$format=JSON\";\nlet allActivityAPIData; // API資料- 取得所有觀光活動資料(Tourism/Activity)\nlet allFoodAPIData;     // API資料- 取得所有觀光餐飲資料(Tourism/Restaurant)\n\n\n\ncallAPIFromAllActivity(allActivityAPIPath,allActivityAPIData);   // 取得資料- 活動\ncallAPIFromAllFood(allFoodAPIPath,allFoodAPIData);               // 取得資料- 美食\n\n// 取得查詢條件\nfunction getSearchCondition(){\n  console.log('getSearchCondition');\n};\n\n\n\n\n// 取得資料- 美食\nfunction callAPIFromAllFood(APIPath,allFoodAPIData){\n  axios.get(APIPath,\n    {\n       headers: getAuthorizationHeader()\n    }\n  )\n  .then(function (allFoodAPIData) {\n   const activityCardGroup=document.querySelector('.food-card-group');\n   let webData=[];\n   let htmlCode=\"\";\n   console.log('allFoodAPIData',allFoodAPIData);\n   // 刪除沒照片的資料\n   allFoodAPIData.data.forEach((item,index)=>{\n     if(item.Picture.PictureUrl1){\n      webData.push(item);\n     };\n   });\n   console.log('webData',webData.slice(0,5));\n   webData.slice(0,5).forEach((item,index)=>{\n    htmlCode+=`<div class=\"food-card w-19\">\n    <img class=\"mg_b_10\" src=\"${item.Picture.PictureUrl1}\" alt=\"\">\n    <div class=\"card-info\">\n        <h5 class=\"ft14 pd_b_40\">${item.Name}</h5>\n        <span class=\"place\">\n            <img src=\"./assets/images/icon_card_spot_pink.png\" alt=\"\">\n            <h5 class=\"ft12\">${item.Address}</h5>\n        </span>\n    </div>\n</div>`;\n   });\n   activityCardGroup.innerHTML= htmlCode;\n  })\n  .catch(function (error) {\n   console.log(error);\n  }); \n\n  getAuthorizationHeader();\n}\n\n\n\n// 取得資料- 活動\nfunction callAPIFromAllActivity(APIPath,allActivityAPIData){\n  axios.get(APIPath,\n    {\n       headers: getAuthorizationHeader()\n    }\n  )\n  .then(function (allActivityAPIData) {\n   const activityCardGroup=document.querySelector('.activity-card-group');\n   let webData=[];\n   let htmlCode=\"\";\n   console.log('allActivityAPIData',allActivityAPIData);\n   // 刪除沒照片的資料\n   allActivityAPIData.data.forEach((item,index)=>{\n     if(item.Picture.PictureUrl1){\n      webData.push(item);\n     };\n   });\n   console.log('webData',webData.slice(0,2));\n   webData.slice(0,2).forEach((item,index)=>{\n    htmlCode+=` <div class=\"activity-card w-48\">\n    <img class=\"pd_r_16\" src=\"${item.Picture.PictureUrl1}\" alt=\"\">\n    <div class=\"card-info\">\n        <h5 class=\"ft16 mg_b_15\">${item.Name}</h5>\n        <p class=\"mg_b_15\">${item.Description.slice(0,90)}</p>\n        <div class=\"more\">\n            <span class=\"place w-50\">\n                <img src=\"./assets/images/icon_card_spot_pink.png\" alt=\"\">\n                <h5 class=\"ft14\">${item.Location}</h5>\n            </span>\n            <a href=\"\" class=\"btn w150 pd_l_30 pd_r_30 border-pink text-pink\">活動詳情</a>\n        </div>\n    </div>\n</div>`;\n   });\n   activityCardGroup.innerHTML= htmlCode;\n  })\n  .catch(function (error) {\n   console.log(error);\n  }); \n\n  getAuthorizationHeader();\n}\n\n\nfunction getAuthorizationHeader() {\n//  填入自己 ID、KEY 開始\n   let AppID = '14eabd52f5ac43a5a98f0d9e32389dae';\n   let AppKey = 'k8ENBf6WGRw4ib1cOSJg7I9RHQk';\n//  填入自己 ID、KEY 結束\n   let GMTString = new Date().toGMTString();\n   let ShaObj = new jsSHA('SHA-1', 'TEXT');\n   ShaObj.setHMACKey(AppKey, 'TEXT');\n   ShaObj.update('x-date: ' + GMTString);\n   let HMAC = ShaObj.getHMAC('B64');\n   let Authorization = 'hmac username=\\\"' + AppID + '\\\", algorithm=\\\"hmac-sha1\\\", headers=\\\"x-date\\\", signature=\\\"' + HMAC + '\\\"';\n   return { 'Authorization': Authorization, 'X-Date': GMTString }; \n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}